<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareNest App</title>
    <link rel="stylesheet" href="style.css">
    
 
</head>
<body>
    <div id="mainpage" class="center-text">
        <img class="logo" src="home.png" alt="CareNest Logo">
        <h1>CareNest</h1>
        <h2><i>Love,support and smiles delivered</i></h2>
        <button class="button" id="one">Get Started</button>
    </div>
    <div id="loginpage" class=" center-text hidden">
        <img class="logo" src="home.png" alt="CareNest Logo">
        <h2>Login</h2>
        
            <label for="loginUsername">Username:</label>
            <input type="text" id="loginUsername" name="username" required>
            <br><br>
            <label for="loginPassword"><b>Password:</b></label>
            <input type="password" id="loginPassword" name="password" required>
            <br><br>
            <button type="submit" class="button" id="two">Login</button>
            <button type="button" class="button" id="three">Register</button>
        
    </div>
    <div  id="registerpage" class="center-text hidden">
        <img class="logo" src="home.png" alt="CareNest Logo">
        <h1>CareNest</h1>
        <h2>Create your account</h2>
        <form id="registerForm">
            <div class="row">
            <label for="regUsername">Username:</label>
            <input type="text" id="regUsername" name="username" required>
            </div><br>
            
            <div class="row">
            <label for="regEmail">Email:</label>
            <input type="email" id="regEmail" name="email" required>
            </div>
            <br>
            <div class="row">
            <label for="regPassword">Password:</label>
            <input type="password" id="regPassword" name="password" required>
            <br>
            </div>
            <button type="submit" class="button">Register</button>
            <button type="button" class="button" id="four" >Back to Login</button>
        </form>
    </div>

     <div id="apppage" class="center-text hidden">
        <header>
            <nav>
                <p>Welcome to CareNest ...Your one stop solution to all needs</p>
            </nav>
        </header>
        <main>
            <section id="services">
                <h2>Book a Care taker</h2>
                <button>Elder Care</button>
                <button>Child Care</button>
                <button>Pet Care</button>
            </section>
        </main>
        <button class="button" id="five">Logout</button>
    </div>
    <script>
        function showsection(sectionId){
            document.getElementById('mainpage').classList.add('hidden');
            document.getElementById('loginpage').classList.add('hidden');
            document.getElementById('registerpage').classList.add('hidden');
            document.getElementById('apppage').classList.add('hidden');
            document.getElementById(sectionId).classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('one').addEventListener('click', function() {showsection('loginpage');});
            document.getElementById('two').addEventListener('click', function() {showsection('apppage');});
            document.getElementById('three').addEventListener('click', function() {showsection('registerpage');});
            document.getElementById('four').addEventListener('click', function() {showsection('loginpage');});
            document.getElementById('registerForm').addEventListener('submit', function(e) {e.preventDefault();alert('Registration successful!');showsection('loginpage');});
            document.getElementById('five').addEventListener('click', function() {showsection('mainpage');});
            showsection('mainpage');
        });
        document.getElementById('registerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    fetch('/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            username: document.getElementById('regUsername').value,
            email: document.getElementById('regEmail').value,
            password: document.getElementById('regPassword').value
        })
    })
    .then(res => res.json())
    .then(data => {
        alert(data.message);
        showsection('loginpage');
    });
});

document.getElementById('two').addEventListener('click', function() {
    fetch('/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            username: document.getElementById('loginUsername').value,
            password: document.getElementById('loginPassword').value
        })
    })
    .then(res => res.json())
    .then(data => {
        if (data.message === 'Login successful!') {
            showsection('apppage');
        } else {
            alert('Invalid credentials');
        }
    });
});
    </script>
</body>
</html>
            
        
    